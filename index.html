<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arepas al Fuego - Sistema de Gesti√≥n</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;
        const { createClient } = supabase;
        
        // Configuraci√≥n de Supabase
        const supabaseClient = createClient(
            'https://xybyupmrtiyspxlzcaug.supabase.co',
            'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh5Ynl1cG1ydGl5c3B4bHpjYXVnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk4ODk3MDYsImV4cCI6MjA3NTQ2NTcwNn0.EHS9tI0-2vllcfdU-W4zeCVWf7csG24CtVmUbmk7s1M'
        );

        function App() {
            const [activeTab, setActiveTab] = useState('dashboard');
            const [productos, setProductos] = useState([]);
            const [clientes, setClientes] = useState([]);
            const [ventas, setVentas] = useState([]);
            const [ingresos, setIngresos] = useState([]);
            const [egresos, setEgresos] = useState([]);
            const [loading, setLoading] = useState(true);
            const [searchTerm, setSearchTerm] = useState('');

            const [productoForm, setProductoForm] = useState({ nombre: '', descripcion: '', precio: '', stock: '', categoria: '' });
            const [clienteForm, setClienteForm] = useState({ nombre: '', email: '', telefono: '', direccion: '' });
            const [ventaForm, setVentaForm] = useState({ cliente_id: '', producto_id: '', cantidad: '', notas: '' });
            const [ingresoForm, setIngresoForm] = useState({ concepto: '', monto: '', categoria: '' });
            const [egresoForm, setEgresoForm] = useState({ concepto: '', monto: '', categoria: '' });

            useEffect(() => {
                loadData();
            }, [activeTab]);

            const loadData = async () => {
                setLoading(true);
                try {
                    if (activeTab === 'productos' || activeTab === 'dashboard') {
                        const { data } = await supabaseClient.from('productos').select('*').order('created_at', { ascending: false });
                        setProductos(data || []);
                    }
                    if (activeTab === 'clientes' || activeTab === 'dashboard') {
                        const { data } = await supabaseClient.from('clientes').select('*').order('created_at', { ascending: false });
                        setClientes(data || []);
                    }
                    if (activeTab === 'ventas' || activeTab === 'dashboard') {
                        const { data } = await supabaseClient.from('ventas').select('*, clientes(nombre)').order('fecha', { ascending: false });
                        setVentas(data || []);
                    }
                    if (activeTab === 'contabilidad' || activeTab === 'dashboard') {
                        const { data: ing } = await supabaseClient.from('ingresos').select('*').order('fecha', { ascending: false });
                        const { data: egr } = await supabaseClient.from('egresos').select('*').order('fecha', { ascending: false });
                        setIngresos(ing || []);
                        setEgresos(egr || []);
                    }
                } catch (error) {
                    console.error('Error:', error);
                }
                setLoading(false);
            };

            const addProducto = async (e) => {
                e.preventDefault();
                const { error } = await supabaseClient.from('productos').insert([{
                    nombre: productoForm.nombre,
                    descripcion: productoForm.descripcion,
                    precio: parseFloat(productoForm.precio),
                    stock: parseInt(productoForm.stock),
                    categoria: productoForm.categoria
                }]);
                if (!error) {
                    setProductoForm({ nombre: '', descripcion: '', precio: '', stock: '', categoria: '' });
                    loadData();
                } else {
                    alert('Error: ' + error.message);
                }
            };

            const deleteProducto = async (id) => {
                if (confirm('¬øEliminar este producto?')) {
                    await supabaseClient.from('productos').delete().eq('id', id);
                    loadData();
                }
            };

            const addCliente = async (e) => {
                e.preventDefault();
                const { error } = await supabaseClient.from('clientes').insert([clienteForm]);
                if (!error) {
                    setClienteForm({ nombre: '', email: '', telefono: '', direccion: '' });
                    loadData();
                } else {
                    alert('Error: ' + error.message);
                }
            };

            const deleteCliente = async (id) => {
                if (confirm('¬øEliminar este cliente?')) {
                    await supabaseClient.from('clientes').delete().eq('id', id);
                    loadData();
                }
            };

            const addVenta = async (e) => {
                e.preventDefault();
                const producto = productos.find(p => p.id === parseInt(ventaForm.producto_id));
                const cantidad = parseInt(ventaForm.cantidad);
                
                if (!producto || producto.stock < cantidad) {
                    alert('Stock insuficiente');
                    return;
                }

                const total = producto.precio * cantidad;
                
                const { data: venta, error: ventaError } = await supabaseClient.from('ventas').insert([{
                    cliente_id: parseInt(ventaForm.cliente_id),
                    total: total,
                    notas: ventaForm.notas
                }]).select();

                if (!ventaError && venta) {
                    await supabaseClient.from('detalle_ventas').insert([{
                        venta_id: venta[0].id,
                        producto_id: producto.id,
                        cantidad: cantidad,
                        precio_unitario: producto.precio,
                        subtotal: total
                    }]);

                    await supabaseClient.from('productos').update({ stock: producto.stock - cantidad }).eq('id', producto.id);
                    
                    setVentaForm({ cliente_id: '', producto_id: '', cantidad: '', notas: '' });
                    loadData();
                    alert('¬°Venta registrada!');
                }
            };

            const addIngreso = async (e) => {
                e.preventDefault();
                const { error } = await supabaseClient.from('ingresos').insert([{
                    concepto: ingresoForm.concepto,
                    monto: parseFloat(ingresoForm.monto),
                    categoria: ingresoForm.categoria
                }]);
                if (!error) {
                    setIngresoForm({ concepto: '', monto: '', categoria: '' });
                    loadData();
                }
            };

            const addEgreso = async (e) => {
                e.preventDefault();
                const { error } = await supabaseClient.from('egresos').insert([{
                    concepto: egresoForm.concepto,
                    monto: parseFloat(egresoForm.monto),
                    categoria: egresoForm.categoria
                }]);
                if (!error) {
                    setEgresoForm({ concepto: '', monto: '', categoria: '' });
                    loadData();
                }
            };

            const deleteIngreso = async (id) => {
                if (confirm('¬øEliminar?')) {
                    await supabaseClient.from('ingresos').delete().eq('id', id);
                    loadData();
                }
            };

            const deleteEgreso = async (id) => {
                if (confirm('¬øEliminar?')) {
                    await supabaseClient.from('egresos').delete().eq('id', id);
                    loadData();
                }
            };

            const calcularBalance = () => {
                const totalIngresos = ingresos.reduce((sum, ing) => sum + parseFloat(ing.monto), 0);
                const totalEgresos = egresos.reduce((sum, egr) => sum + parseFloat(egr.monto), 0);
                const totalVentas = ventas.reduce((sum, v) => sum + parseFloat(v.total), 0);
                return { 
                    totalIngresos: totalIngresos + totalVentas, 
                    totalEgresos, 
                    balance: (totalIngresos + totalVentas) - totalEgresos,
                    soloVentas: totalVentas
                };
            };

            const balance = calcularBalance();

            const filteredProductos = productos.filter(p => 
                p.nombre.toLowerCase().includes(searchTerm.toLowerCase()) ||
                (p.categoria && p.categoria.toLowerCase().includes(searchTerm.toLowerCase()))
            );

            const filteredClientes = clientes.filter(c => 
                c.nombre.toLowerCase().includes(searchTerm.toLowerCase())
            );

            return (
                <div className="min-h-screen bg-amber-50">
                    <div className="bg-gradient-to-r from-amber-700 via-orange-600 to-yellow-700 text-white p-6 shadow-lg">
                        <div className="max-w-7xl mx-auto">
                            <div className="flex items-center gap-4">
                                <div className="bg-white p-3 rounded-full shadow-lg">
                                    <span className="text-4xl">üî•</span>
                                </div>
                                <div>
                                    <h1 className="text-3xl font-bold flex items-center gap-2">
                                        Arepas al Fuego
                                        <span className="text-2xl">üåΩ</span>
                                    </h1>
                                    <p className="text-amber-100 mt-1">Sistema de Gesti√≥n - Eje Cafetero</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div className="flex border-b bg-white shadow-sm sticky top-0 z-10 overflow-x-auto">
                        {[
                            { id: 'dashboard', label: 'Inicio', emoji: 'üìä' },
                            { id: 'productos', label: 'Productos', emoji: 'üåΩ' },
                            { id: 'clientes', label: 'Clientes', emoji: 'üë•' },
                            { id: 'ventas', label: 'Ventas', emoji: 'üõí' },
                            { id: 'contabilidad', label: 'Contabilidad', emoji: 'üí∞' }
                        ].map(tab => (
                            <button
                                key={tab.id}
                                onClick={() => { setActiveTab(tab.id); setSearchTerm(''); }}
                                className={`flex items-center gap-2 px-6 py-4 font-medium transition-colors whitespace-nowrap ${
                                    activeTab === tab.id
                                        ? 'border-b-2 border-orange-600 text-orange-600 bg-orange-50'
                                        : 'text-gray-600 hover:text-orange-600 hover:bg-amber-50'
                                }`}
                            >
                                <span>{tab.emoji}</span>
                                {tab.label}
                            </button>
                        ))}
                    </div>

                    <div className="max-w-7xl mx-auto p-4 md:p-6">
                        {loading && (
                            <div className="text-center py-8">
                                <div className="inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"></div>
                                <p className="mt-4 text-gray-600">Cargando...</p>
                            </div>
                        )}

                        {!loading && activeTab === 'dashboard' && (
                            <div className="space-y-6">
                                <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                                    <div className="bg-white p-6 rounded-lg shadow hover:shadow-lg transition border-t-4 border-amber-500">
                                        <div className="flex items-center justify-between">
                                            <div>
                                                <p className="text-gray-500 text-sm">Productos</p>
                                                <p className="text-3xl font-bold text-gray-800 mt-1">{productos.length}</p>
                                            </div>
                                            <span className="text-5xl">üåΩ</span>
                                        </div>
                                    </div>
                                    <div className="bg-white p-6 rounded-lg shadow hover:shadow-lg transition border-t-4 border-green-500">
                                        <div className="flex items-center justify-between">
                                            <div>
                                                <p className="text-gray-500 text-sm">Clientes</p>
                                                <p className="text-3xl font-bold text-gray-800 mt-1">{clientes.length}</p>
                                            </div>
                                            <span className="text-5xl">‚òï</span>
                                        </div>
                                    </div>
                                    <div className="bg-white p-6 rounded-lg shadow hover:shadow-lg transition border-t-4 border-orange-500">
                                        <div className="flex items-center justify-between">
                                            <div>
                                                <p className="text-gray-500 text-sm">Ventas</p>
                                                <p className="text-3xl font-bold text-gray-800 mt-1">{ventas.length}</p>
                                                <p className="text-sm text-orange-600 font-medium mt-1">${balance.soloVentas.toFixed(2)}</p>
                                            </div>
                                            <span className="text-5xl">üî•</span>
                                        </div>
                                    </div>
                                    <div className="bg-white p-6 rounded-lg shadow hover:shadow-lg transition border-t-4 border-yellow-500">
                                        <div className="flex items-center justify-between">
                                            <div>
                                                <p className="text-gray-500 text-sm">Balance</p>
                                                <p className={`text-3xl font-bold mt-1 ${balance.balance >= 0 ? 'text-green-600' : 'text-red-600'}`}>
                                                    ${balance.balance.toFixed(2)}
                                                </p>
                                            </div>
                                            <span className="text-5xl">üí∞</span>
                                        </div>
                                    </div>
                                </div>

                                <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                    <div className="bg-white p-6 rounded-lg shadow border-l-4 border-green-500">
                                        <h3 className="text-lg font-bold mb-4 text-green-700">üìà Resumen Financiero</h3>
                                        <div className="space-y-3">
                                            <div className="flex justify-between p-3 bg-green-50 rounded">
                                                <span>Ingresos Totales</span>
                                                <span className="font-bold text-green-600">${balance.totalIngresos.toFixed(2)}</span>
                                            </div>
                                            <div className="flex justify-between p-3 bg-red-50 rounded">
                                                <span>Egresos Totales</span>
                                                <span className="font-bold text-red-600">${balance.totalEgresos.toFixed(2)}</span>
                                            </div>
                                            <div className="flex justify-between p-3 bg-amber-50 rounded border-2 border-amber-400">
                                                <span className="font-bold">Balance Neto</span>
                                                <span className={`font-bold text-lg ${balance.balance >= 0 ? 'text-green-600' : 'text-red-600'}`}>
                                                    ${balance.balance.toFixed(2)}
                                                </span>
                                            </div>
                                        </div>
                                    </div>

                                    <div className="bg-white p-6 rounded-lg shadow border-l-4 border-orange-500">
                                        <h3 className="text-lg font-bold mb-4 text-orange-700">‚ö†Ô∏è Stock Bajo</h3>
                                        <div className="space-y-2 max-h-48 overflow-y-auto">
                                            {productos.filter(p => p.stock < 10).map(p => (
                                                <div key={p.id} className="flex justify-between p-3 bg-orange-50 rounded">
                                                    <span className="font-medium">{p.nombre}</span>
                                                    <span className="text-orange-600 font-bold">Stock: {p.stock}</span>
                                                </div>
                                            ))}
                                            {productos.filter(p => p.stock < 10).length === 0 && (
                                                <p className="text-center py-4 text-gray-500">‚úÖ Todo bien surtido</p>
                                            )}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                        {!loading && activeTab === 'productos' && (
                            <div className="space-y-6">
                                <div className="bg-white p-6 rounded-lg shadow border-l-4 border-amber-500">
                                    <h2 className="text-xl font-bold mb-4 text-amber-700">‚ûï Agregar Producto</h2>
                                    <form onSubmit={addProducto} className="grid grid-cols-1 md:grid-cols-5 gap-4">
                                        <input
                                            type="text"
                                            placeholder="Nombre"
                                            value={productoForm.nombre}
                                            onChange={(e) => setProductoForm({...productoForm, nombre: e.target.value})}
                                            className="p-3 border border-amber-300 rounded-lg"
                                            required
                                        />
                                        <input
                                            type="text"
                                            placeholder="Descripci√≥n"
                                            value={productoForm.descripcion}
                                            onChange={(e) => setProductoForm({...productoForm, descripcion: e.target.value})}
                                            className="p-3 border border-amber-300 rounded-lg"
                                        />
                                        <input
                                            type="number"
                                            step="0.01"
                                            placeholder="Precio"
                                            value={productoForm.precio}
                                            onChange={(e) => setProductoForm({...productoForm, precio: e.target.value})}
                                            className="p-3 border border-amber-300 rounded-lg"
                                            required
                                        />
                                        <input
                                            type="number"
                                            placeholder="Stock"
                                            value={productoForm.stock}
                                            onChange={(e) => setProductoForm({...productoForm, stock: e.target.value})}
                                            className="p-3 border border-amber-300 rounded-lg"
                                            required
                                        />
                                        <input
                                            type="text"
                                            placeholder="Categor√≠a"
                                            value={productoForm.categoria}
                                            onChange={(e) => setProductoForm({...productoForm, categoria: e.target.value})}
                                            className="p-3 border border-amber-300 rounded-lg"
                                        />
                                        <button type="submit" className="md:col-span-5 bg-gradient-to-r from-amber-600 to-orange-600 text-white p-3 rounded-lg font-medium">
                                            ‚úì Agregar Producto üåΩ
                                        </button>
                                    </form>
                                </div>

                                <div className="bg-white p-6 rounded-lg shadow">
                                    <div className="flex justify-between items-center mb-4">
                                        <h2 className="text-xl font-bold">Inventario ({filteredProductos.length})</h2>
                                        <input
                                            type="text"
                                            placeholder="Buscar..."
                                            value={searchTerm}
                                            onChange={(e) => setSearchTerm(e.target.value)}
                                            className="p-2 border rounded-lg"
                                        />
                                    </div>
                                    <div className="overflow-x-auto">
                                        <table className="w-full">
                                            <thead className="bg-gray-50">
                                                <tr>
                                                    <th className="p-3 text-left">Nombre</th>
                                                    <th className="p-3 text-left">Precio</th>
                                                    <th className="p-3 text-left">Stock</th>
                                                    <th className="p-3 text-left">Categor√≠a</th>
                                                    <th className="p-3 text-left">Acci√≥n</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                {filteredProductos.map((p) => (
                                                    <tr key={p.id} className="border-b">
                                                        <td className="p-3">{p.nombre}</td>
                                                        <td className="p-3 text-green-600 font-bold">${parseFloat(p.precio).toFixed(2)}</td>
                                                        <td className="p-3">
                                                            <span className={`px-3 py-1 rounded-full ${p.stock < 10 ? 'bg-red-100 text-red-700' : 'bg-green-100 text-green-700'}`}>
                                                                {p.stock}
                                                            </span>
                                                        </td>
                                                        <td className="p-3">{p.categoria || '-'}</td>
                                                        <td className="p-3">
                                                            <button onClick={() => deleteProducto(p.id)} className="text-red-600 hover:text-red-800">
                                                                üóëÔ∏è
                                                            </button>
                                                        </td>
                                                    </tr>
                                                ))}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        )}

                        {!loading && activeTab === 'clientes' && (
                            <div className="space-y-6">
                                <div className="bg-white p-6 rounded-lg shadow">
                                    <h2 className="text-xl font-bold mb-4">‚ûï Agregar Cliente</h2>
                                    <form onSubmit={addCliente} className="grid grid-cols-1 md:grid-cols-4 gap-4">
                                        <input
                                            type="text"
                                            placeholder="Nombre"
                                            value={clienteForm.nombre}
                                            onChange={(e) => setClienteForm({...clienteForm, nombre: e.target.value})}
                                            className="p-3 border rounded-lg"
                                            required
                                        />
                                        <input
                                            type="email"
                                            placeholder="Email"
                                            value={clienteForm.email}
                                            onChange={(e) => setClienteForm({...clienteForm, email: e.target.value})}
                                            className="p-3 border rounded-lg"
                                        />
                                        <input
                                            type="tel"
                                            placeholder="Tel√©fono"
                                            value={clienteForm.telefono}
                                            onChange={(e) => setClienteForm({...clienteForm, telefono: e.target.value})}
                                            className="p-3 border rounded-lg"
                                        />
                                        <input
                                            type="text"
                                            placeholder="Direcci√≥n"
                                            value={clienteForm.direccion}
                                            onChange={(e) => setClienteForm({...clienteForm, direccion: e.target.value})}
                                            className="p-3 border rounded-lg"
                                        />
                                        <button type="submit" className="md:col-span-4 bg-amber-600 text-white p-3 rounded-lg">
                                            ‚úì Agregar Cliente
                                        </button>
                                    </form>
                                </div>

                                <div className="bg-white p-6 rounded-lg shadow">
                                    <h2 className="text-xl font-bold mb-4">Lista de Clientes ({clientes.length})</h2>
                                    <div className="overflow-x-auto">
                                        <table className="w-full">
                                            <thead className="bg-gray-50">
                                                <tr>
                                                    <th className="p-3 text-left">Nombre</th>
                                                    <th className="p-3 text-left">Email</th>
                                                    <th className="p-3 text-left">Tel√©fono</th>
                                                    <th className="p-3 text-left">Acci√≥n</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                {clientes.map((c) => (
                                                    <tr key={c.id} className="border-b">
                                                        <td className="p-3 font-medium">{c.nombre}</td>
                                                        <td className="p-3">{c.email || '-'}</td>
                                                        <td className="p-3">{c.telefono || '-'}</td>
                                                        <td className="p-3">
                                                            <button onClick={() => deleteCliente(c.id)} className="text-red-600">
                                                                üóëÔ∏è
                                                            </button>
                                                        </td>
                                                    </tr>
                                                ))}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        )}

                        {!loading && activeTab === 'ventas' && (
                            <div className="space-y-6">
                                <div className="bg-white p-6 rounded-lg shadow">
                                    <h2 className="text-xl font-bold mb-4">üõí Registrar Venta</h2>
                                    <form onSubmit={addVenta} className="grid grid-cols-1 md:grid-cols-4 gap-4">
                                        <select
                                            value={ventaForm.cliente_id}
                                            onChange={(e) => setVentaForm({...ventaForm, cliente_id: e.target.value})}
                                            className="p-3 border rounded-lg"
                                            required
                                        >
                                            <option value="">Cliente</option>
                                            {clientes.map(c => <option key={c.id} value={c.id}>{c.nombre}</option>)}
                                        </select>
                                        <select
                                            value={ventaForm.producto_id}
                                            onChange={(e) => setVentaForm({...ventaForm, producto_id: e.target.value})}
                                            className="p-3 border rounded-lg"
                                            required
                                        >
                                            <option value="">Producto</option>
                                            {productos.filter(p => p.stock > 0).map(p => (
                                                <option key={p.id} value={p.id}>
                                                    {p.nombre} (Stock: {p.stock})
                                                </option>
                                            ))}
                                        </select>
                                        <input
                                            type="number"
                                            min="1"
                                            placeholder="Cantidad"
                                            value={ventaForm.cantidad}
                                            onChange={(e) => setVentaForm({...ventaForm, cantidad: e.target.value})}
                                            className="p-3 border rounded-lg"
                                            required
                                        />
                                        <input
                                            type="text"
                                            placeholder="Notas"
                                            value={ventaForm.notas}
                                            onChange={(e) => setVentaForm({...ventaForm, notas: e.target.value})}
                                            className="p-3 border rounded-lg"
                                        />
                                        <button type="submit" className="md:col-span-4 bg-orange-600 text-white p-3 rounded-lg">
                                            ‚úì Registrar Venta
                                        </button>
                                    </form>
                                </div>

                                <div className="bg-white p-6 rounded-lg shadow">
                                    <h2 className="text-xl font-bold mb-4">Historial ({ventas.length})</h2>
                                    <div className="overflow-x-auto">
                                        <table className="w-full">
                                            <thead className="bg-gray-50">
                                                <tr>
                                                    <th className="p-3 text-left">Cliente</th>
                                                    <th className="p-3 text-left">Total</th>
                                                    <th className="p-3 text-left">Fecha</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                {ventas.map((v) => (
                                                    <tr key={v.id} className="border-b">
                                                        <td className="p-3">{v.clientes?.nombre || 'N/A'}</td>
                                                        <td className="p-3 text-green-600 font-bold">${parseFloat(v.total).toFixed(2)}</td>
                                                        <td className="p-3 text-sm">{new Date(v.fecha).toLocaleString()}</td>
                                                    </tr>
                                                ))}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        )}

                        {!loading && activeTab === 'contabilidad' && (
                            <div className="space-y-6">
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div className="bg-white p-6 rounded-lg shadow border-l-4 border-green-500">
                                        <h2 className="text-xl font-bold mb-4 text-green-600">üìà Ingreso</h2>
                                        <form onSubmit={addIngreso} className="space-y-4">
                                            <input
                                                type="text"
                                                placeholder="Concepto"
                                                value={ingresoForm.concepto}
                                                onChange={(e) => setIngresoForm({...ingresoForm, concepto: e.target.value})}
                                                className="w-full p-3 border rounded-lg"
                                                required
                                            />
                                            <input
                                                type="number"
                                                step="0.01"
                                                placeholder="Monto"
                                                value={ingresoForm.monto}
                                                onChange={(e) => setIngresoForm({...ingresoForm, monto: e.target.value})}
                                                className="w-full p-3 border rounded-lg"
                                                required
                                            />
                                            <input
                                                type="text"
                                                placeholder="Categor√≠a"
                                                value={ingresoForm.categoria}
                                                onChange={(e) => setIngresoForm({...ingresoForm, categoria: e.target.value})}
                                                className="w-full p-3 border rounded-lg"
                                            />
                                            <button type="submit" className="w-full bg-green-600 text-white p-3 rounded-lg">
                                                ‚úì Agregar Ingreso
                                            </button>
                                        </form>
                                    </div>

                                    <div className="bg-white p-6 rounded-lg shadow border-l-4 border-red-500">
                                        <h2 className="text-xl font-bold mb-4 text-red-600">üìâ Egreso</h2>
                                        <form onSubmit={addEgreso} className="space-y-4">
                                            <input
                                                type="text"
                                                placeholder="Concepto"
                                                value={egresoForm.concepto}
                                                onChange={(e) => setEgresoForm({...egresoForm, concepto: e.target.value})}
                                                className="w-full p-3 border rounded-lg"
                                                required
                                            />
                                            <input
                                                type="number"
                                                step="0.01"
                                                placeholder="Monto"
                                                value={egresoForm.monto}
                                                onChange={(e) => setEgresoForm({...egresoForm, monto: e.target.value})}
                                                className="w-full p-3 border rounded-lg"
                                                required
                                            />
                                            <input
                                                type="text"
                                                placeholder="Categor√≠a"
                                                value={egresoForm.categoria}
                                                onChange={(e) => setEgresoForm({...egresoForm, categoria: e.target.value})}
                                                className="w-full p-3 border rounded-lg"
                                            />
                                            <button type="submit" className="w-full bg-red-600 text-white p-3 rounded-lg">
                                                ‚úì Agregar Egreso
                                            </button>
                                        </form>
                                    </div>
                                </div>

                                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div className="bg-white p-6 rounded-lg shadow">
                                        <h2 className="text-xl font-bold mb-4 text-green-600">Ingresos ({ingresos.length})</h2>
                                        <div className="space-y-2 max-h-96 overflow-y-auto">
                                            {ingresos.map((ing) => (
                                                <div key={ing.id} className="flex justify-between items-center p-3 bg-green-50 rounded">
                                                    <div>
                                                        <p className="font-medium">{ing.concepto}</p>
                                                        <p className="text-sm text-gray-500">{new Date(ing.fecha).toLocaleDateString()}</p>
                                                    </div>
                                                    <div className="flex gap-3 items-center">
                                                        <span className="text-green-600 font-bold">${parseFloat(ing.monto).toFixed(2)}</span>
                                                        <button onClick={() => deleteIngreso(ing.id)} className="text-red-600">üóëÔ∏è</button>
                                                    </div>
                                                </div>
                                            ))}
                                            {ingresos.length === 0 && <p className="text-center py-4 text-gray-500">Sin registros</p>}
                                        </div>
                                    </div>

                                    <div className="bg-white p-6 rounded-lg shadow">
                                        <h2 className="text-xl font-bold mb-4 text-red-600">Egresos ({egresos.length})</h2>
                                        <div className="space-y-2 max-h-96 overflow-y-auto">
                                            {egresos.map((egr) => (
                                                <div key={egr.id} className="flex justify-between items-center p-3 bg-red-50 rounded">
                                                    <div>
                                                        <p className="font-medium">{egr.concepto}</p>
                                                        <p className="text-sm text-gray-500">{new Date(egr.fecha).toLocaleDateString()}</p>
                                                    </div>
                                                    <div className="flex gap-3 items-center">
                                                        <span className="text-red-600 font-bold">${parseFloat(egr.monto).toFixed(2)}</span>
                                                        <button onClick={() => deleteEgreso(egr.id)} className="text-red-600">üóëÔ∏è</button>
                                                    </div>
                                                </div>
                                            ))}
                                            {egresos.length === 0 && <p className="text-center py-4 text-gray-500">Sin registros</p>}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
                                